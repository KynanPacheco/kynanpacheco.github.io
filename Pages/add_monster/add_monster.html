<!DOCTYPE html>
<head>
	<link href="/Files/template.css" type="text/css" rel="stylesheet">
	<title>Bigby's Hand Encounter Builder</title>

</head>

<body>
	<div class="banner">
		<img src="/Images/fist.png" alt="Bigby's Hand" class="fist">
	</div>
	
	<div class="body">
		<form action="" id="filter">
		Filter By
		<select name="filterType" form="filter">
			<option value="cr">CR</option>
			<option value="name">Name</option>
			<option value="type">Type</option>
		</select>
		
		<table id="monsterList">
			<tr>
				<th>Name</th>
				<th>Type</th>
				<th>CR</th>
				<th></th>
			</tr>
		</table>
		<p>Version 4</p>
		<p id="name"></p>
	</div>
	
	<script>
		var list = document.getElementById("monsterList")
		var monsterManual;
		
		var xhttp = new XMLHttpRequest();
		xhttp.open("GET", "/Files/monstermanual.json", true);
		xhttp.send();
		
		xhttp.onreadystatechange = function() {
			if (this.readyState == 4 && this.status == 200) {
				monsterManual = JSON.parse(this.responseText);
			}
		}
	
		//var xmlhttp = new XMLHttpRequest();
		//xmlhttp.onreadystatechange = function() {
		//	if (this.readyState == 4 && this.status == 200) {
		//		var monsterManual = JSON.parse(this.responseText);
		//	}
		//};
		//xmlhttp.open("GET", "/Files/monstermanual.json", true);
		//xmlhttp.send();
	
		function listMonsters(monsterCount) {
			for(var i = 0; i < monsterCount; i++){
				var row = list.insertRow(-1);
				var name = list.insertCell(-1);
				var type = list.insertCell(-1);
				var cr = list.insertCell(-1);
				var add = list.insertCell(-1);
			
				name.innerHTML = monsterManual[i].name;
				type.innerHTML = monsterManual[i].type;
				cr.innerHTML = monsterManual[i].challenge_rating;
				add.innerHTML = "<button onClick='addMonster'>Add</button>";
			}
			
		}
		
		listMonsters(1);
	</script>
</body>
